/*! ngCkeditor v0.2.1 by Vitalii Savchuk(esvit666@gmail.com) - https://github.com/esvit/ng-ckeditor - New BSD License */
!function(n,t){return"function"==typeof define&&define.amd?void define(["angular","ckeditor"],function(n){return t(n)}):t(n)}(angular||null,function(n){var t,i=n.module("ngCkeditor",[]),r=!1;return i.run(["$q","$timeout",function(i,u){function f(){"loaded"===CKEDITOR.status?(r=!0,t.resolve()):f()}if(t=i.defer(),n.isUndefined(CKEDITOR))throw new Error("CKEDITOR not found");CKEDITOR.disableAutoInline=!0;CKEDITOR.on("loaded",f);u(f,100)}]),i.directive("ckeditor",["$timeout","$q",function(i,u){return{restrict:"AC",require:["ngModel","^?form"],scope:!1,link:function(f,e,o,s){var h=s[0],v=s[1]||null,p="<p><\/p>",y="textarea"===e[0].tagName.toLowerCase(),c=[],l=!1,a;y||e.attr("contenteditable",!0);a=function(){var s={toolbar:"full",toolbar_full:[{name:"basicstyles",items:["Bold","Italic","Strike","Underline"]},{name:"paragraph",items:["BulletedList","NumberedList","Blockquote"]},{name:"editing",items:["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"tools",items:["SpellChecker","Maximize"]},"/",{name:"styles",items:["Format","FontSize","TextColor","PasteText","PasteFromWord","RemoveFormat"]},{name:"insert",items:["Image","Table","SpecialChar"]},{name:"forms",items:["Outdent","Indent"]},{name:"clipboard",items:["Undo","Redo"]},{name:"document",items:["PageBreak","Source"]}],disableNativeSpellChecker:!1,uiColor:"#FAFAFA",height:"400px",width:"100%"},t,w,r,a;s=n.extend(s,f[o.ckeditor]);t=y?CKEDITOR.replace(e[0],s):CKEDITOR.inline(e[0],s);w=u.defer();e.bind("$destroy",function(){t&&CKEDITOR.instances[t.name]&&CKEDITOR.instances[t.name].destroy()});r=function(n){var r=t.getData();""===r&&(r=null);i(function(){(n!==!0||r!==h.$viewValue)&&h.$setViewValue(r);n===!0&&v&&v.$setPristine()},0)};a=function(n){if(c.length){var i=c.pop()||p;l=!1;t.setData(i,function(){r(n);l=!0})}};t.on("change",r);t.on("blur",r);t.on("instanceReady",function(){f.$broadcast("ckeditor.ready");f.$apply(function(){a(!0)});t.document.on("keyup",r)});t.on("customConfigLoaded",function(){w.resolve()});h.$render=function(){c.push(h.$viewValue);l&&a()}};"loaded"===CKEDITOR.status&&(r=!0);r?a():t.promise.then(a)}}}]),i});